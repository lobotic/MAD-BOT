<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<style>
body {
  font-family: Arial, sans-serif;
  background-color: #f1a140;
  color: #470f18;
  margin: 0;
  padding: 0;
}
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 10px 20px;
}
header img {
  width: 206px;
}
.timers {
  font-size: 1.2em;
  text-align: right;
}
.columns {
  display: flex;
  justify-content: space-around;
  margin: 20px;
  flex-wrap: wrap;
}
.team {
  border: 2px solid #470f18;
  padding: 15px;
  border-radius: 10px;
  width: 45%;
  background: #fff8ef;
}
.team h2 {
  text-align: center;
  color: #470f18;
}
.team input, .team select {
  margin: 5px;
  padding: 5px;
}
button {
  margin: 5px;
  padding: 8px 16px;
  border: none;
  border-radius: 8px;
  background-color: #470f18;
  color: #fff;
  font-weight: bold;
  cursor: pointer;
}
button:hover { background-color: #6a1c26; }
table {
  margin: 20px auto;
  border-collapse: collapse;
  background: #ddd;
  width: 90%;
}
th, td {
  border: 1px solid #470f18;
  padding: 8px;
  text-align: center;
  color: #470f18;
}
.checkbox-group {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  margin-top: 10px;
}
.checkbox-group label {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 4px;
}
.points {
  font-weight: bold;
  color: #470f18;
}
.icon {
  font-size: 1.2em;
}
</style>
</head>
<body>

<header>
  <img src="MADBOTLogo.png" alt="MAD-BOT Logo">
  <div class="timers">
    <p>Tiempo de Partida: <span id="mainTimer">120</span> s</p>
    <button onclick="startMain()">Iniciar</button>
    <button onclick="resetMain()">Reset</button>
  </div>
</header>

<div class="columns">
  <!-- EQUIPO 1 -->
  <div class="team">
    <h2>Equipo 1 🏆</h2>
    <label>Nombre: <input id="team1_name"></label>
    <h3>Reciclaje</h3>
    Azul: <input type="number" id="t1_azul" value="0" min="0"> 
    Amarillo: <input type="number" id="t1_amarillo" value="0" min="0">
    Verde: <input type="number" id="t1_verde" value="0" min="0">
    <h3>Reforestación</h3>
    Árbol al parque (25 pts): <input type="checkbox" id="t1_arbol">
    <div class="checkbox-group">
      <label><input type="checkbox" id="t1_fin">Acabar en zona FIN (10 pts)</label>
      <label><input type="checkbox" id="t1_conducen">Todos conducen (15 pts)</label>
    </div>
    <p>Puntuación total: <span id="t1_total" class="points">0</span></p>
    <button onclick="resetTeam(1)">Reset Equipo 1</button>
  </div>

  <!-- EQUIPO 2 -->
  <div class="team">
    <h2>Equipo 2 🏆</h2>
    <label>Nombre: <input id="team2_name"></label>
    <h3>Reciclaje</h3>
    Azul: <input type="number" id="t2_azul" value="0" min="0"> 
    Amarillo: <input type="number" id="t2_amarillo" value="0" min="0">
    Verde: <input type="number" id="t2_verde" value="0" min="0">
    <h3>Reforestación</h3>
    Árbol al parque (25 pts): <input type="checkbox" id="t2_arbol">
    <div class="checkbox-group">
      <label><input type="checkbox" id="t2_fin">Acabar en zona FIN (10 pts)</label>
      <label><input type="checkbox" id="t2_conducen">Todos conducen (15 pts)</label>
    </div>
    <p>Puntuación total: <span id="t2_total" class="points">0</span></p>
    <button onclick="resetTeam(2)">Reset Equipo 2</button>
  </div>
</div>

<table id="scoreTable">
  <thead>
    <tr><th>Equipo</th><th>Puntuación</th></tr>
  </thead>
  <tbody></tbody>
</table>

<script>
let timer, timeLeft = 120;

function startMain() {
  clearInterval(timer);
  timer = setInterval(() => {
    timeLeft--;
    document.getElementById("mainTimer").textContent = timeLeft;
    if (timeLeft <= 0) clearInterval(timer);
  }, 1000);
}

function resetMain() {
  clearInterval(timer);
  timeLeft = 120;
  document.getElementById("mainTimer").textContent = timeLeft;
}

function updateScore(team) {
  const azul = parseInt(document.getElementById(`t${team}_azul`).value) || 0;
  const amarillo = parseInt(document.getElementById(`t${team}_amarillo`).value) || 0;
  const verde = parseInt(document.getElementById(`t${team}_verde`).value) || 0;
  const arbol = document.getElementById(`t${team}_arbol`).checked ? 25 : 0;
  const fin = document.getElementById(`t${team}_fin`).checked ? 10 : 0;
  const conducen = document.getElementById(`t${team}_conducen`).checked ? 15 : 0;

  const total = azul * 5 + amarillo * 5 + verde * 5 + arbol + fin + conducen;
  document.getElementById(`t${team}_total`).textContent = total;

  updateTable();
}

function resetTeam(team) {
  document.getElementById(`team${team}_name`).value = "";
  document.getElementById(`t${team}_azul`).value = 0;
  document.getElementById(`t${team}_amarillo`).value = 0;
  document.getElementById(`t${team}_verde`).value = 0;
  document.getElementById(`t${team}_arbol`).checked = false;
  document.getElementById(`t${team}_fin`).checked = false;
  document.getElementById(`t${team}_conducen`).checked = false;
  document.getElementById(`t${team}_total`).textContent = 0;
  updateTable();
}

function updateTable() {
  const tableBody = document.querySelector("#scoreTable tbody");
  tableBody.innerHTML = "";

  const teams = [
    { name: document.getElementById("team1_name").value || "Equipo 1", score: parseInt(document.getElementById("t1_total").textContent) },
    { name: document.getElementById("team2_name").value || "Equipo 2", score: parseInt(document.getElementById("t2_total").textContent) }
  ];

  teams.sort((a, b) => b.score - a.score);

  teams.forEach(t => {
    const row = document.createElement("tr");
    row.innerHTML = `<td>${t.name}</td><td>${t.score}</td>`;
    tableBody.appendChild(row);
  });
}

document.querySelectorAll("input").forEach(el => el.addEventListener("input", () => {
  if (el.id.startsWith("t1_")) updateScore(1);
  if (el.id.startsWith("t2_")) updateScore(2);
}));
document.querySelectorAll("input[type=checkbox]").forEach(el => el.addEventListener("change", () => {
  if (el.id.startsWith("t1_")) updateScore(1);
  if (el.id.startsWith("t2_")) updateScore(2);
}));
</script>

</body>
</html>

